<%= simple_form_for @admin, url: admin_update_avatar_path, method: :patch, html: { multipart: true, data: { controller: "avatar-preview" } } do |f| %>

   <div class="relative inline-block group">
      <%= image_tag current_admin.avatar_url,
                    data: { avatar_preview_target: "image" },
                    id: "avatar-preview",
                    class: "object-cover w-40 h-40 border-4 border-solid border-white rounded-full", 
                    alt: "Bordered avatar" %>

      <%= button_tag(type: 'submit', class: 'absolute bottom-0 end-0 w-8 h-8 block p-0 text-green-700 rounded-full transform -translate-y-8 -translate-x-1 ring-2 ring-gray-300 bg-white hover:bg-green-700 hover:text-white') do %>
         <%= icon('fa-solid', 'pen', class: "w-full rounded-full") %>
      <% end %>

      <%= button_tag(type: 'submit', class: 'absolute bottom-0 end-0 w-8 h-8 block p-0 text-green-700 rounded-full transform -translate-y-4 translate-x-2 ring-2 ring-gray-300 bg-white hover:bg-green-700 hover:text-white') do %>
         <%= icon('fa-solid', 'check', class: "w-full rounded-full") %>
      <% end %>

      <%= link_to admin_delete_avatar_path, data: { turbo_method: :delete },
                                          class: 'absolute bottom-0 end-0 w-8 h-8 block p-1 px-2 rounded-full transform -translate-y-4 translate-x-12 ring-2 ring-gray-300 bg-white' do %>
         <%= icon('fa-solid', 'trash', class: "text-red-700 w-full rounded-full") %>
      <% end %>

      <%= f.input :avatar, as: :file, label: false, 
                     input_html: { class: 'hidden', id: 'admin_avatar_upload', 
                                   data: { avatar_preview_target: "input", action: "change->avatar-preview#preview" } } %>

      <label for="admin_avatar_upload" 
                class="absolute top-0 w-40 h-40 rounded-full hover:bg-black hover:bg-opacity-30 flex items-center justify-center opacity-0 text-white border-l cursor-pointer group-hover:opacity-100">
         <%= t('buttons.edit_avatar') %>
      </label>

   </div>

<% end %>